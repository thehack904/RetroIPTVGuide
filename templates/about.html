<!doctype html>
<html>
<head>
    <title>About RetroIPTVGuide</title>
    <style>
        body { font-family: Arial, sans-serif; margin:0; }
        .header { background:#222; height:40px; display:flex; justify-content:space-between; align-items:center; padding:0 10px; }
        .header .links { display:flex; align-items:center; height:100%; gap:10px; }
        .header .links > a, .header .links > .dropdown > .dropbtn, .header .links > span, .header .links > div#clock {
            display:flex; align-items:center; justify-content:center; padding:0 12px;
            color:#eee; font-weight:bold; text-decoration:none; height:40px; line-height:40px;
        }
        .header .links > a:hover, .header .links > .dropdown:hover > .dropbtn { background:#111; color:#0af; }
        .dropdown { position:relative; }
        .dropbtn { background:none; border:none; font:inherit; color:inherit; cursor:pointer; }
        .dropdown-content {
            display:none; position:absolute; top:100%; left:0; background:#333; min-width:180px;
            border-radius:3px; box-shadow:0 4px 6px rgba(0,0,0,0.3);
        }
        .dropdown-content a { padding:10px 14px; display:block; color:#eee; text-decoration:none; }
        .dropdown-content a:hover { background:#0af; color:#fff; }
        .dropdown:hover .dropdown-content { display:block; }

        /* Submenu (fly-out for Themes) */
        .submenu {
            position: relative;
        }
        .submenu > a {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .submenu-content {
            display: none;
            position: absolute;
            top: 0;
            left: 100%; /* fly out to the right */
            background-color: #333;
            min-width: 160px;
            border-radius: 3px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            z-index: 10;
        }
        .submenu-content li a {
            padding: 10px 14px;
            display: block;
            color: #eee;
            text-decoration: none;
        }
        .submenu-content li a:hover {
            background-color: #0af;
            color: #fff;
        }
        .submenu:hover .submenu-content {
            display: block;
        }

        /* Remove default list bullets and padding for all dropdowns & submenus */
        .dropdown-content,
        .submenu ul,
        .submenu-content {
            list-style: none;
            margin: 0;
            padding: 0;
        }


        h2 { text-align:center; margin:20px 0; }

        .about-box {
            width:70%;
            max-width:700px;
            margin:0 auto 40px auto;
            padding:20px;
            border-radius:6px;
            box-shadow:0 4px 10px rgba(0,0,0,0.2);
            background:rgba(255,255,255,0.05);
        }

        .about-box ul { list-style:none; padding:0; font-size:15px; }
        .about-box li { padding:6px 0; border-bottom:1px solid #555; }
        .about-box li:last-child { border-bottom:none; }

        /* Dark / Light */
        body.dark { background:#111; color:#eee; }
        body.light { background:#fff; color:#000; }
    
        /* Retro AOL / CompuServe Theme */
        body.retro-aol { background:#2f4f4f; color:#f0f0f0; font-family:"Tahoma","Arial",sans-serif; }
        body.retro-aol .header { background:#004466; color:#ffcc00; border-bottom:2px solid #33cccc; }
        body.retro-aol #video { background:#000; }
        body.retro-aol .summary { color:#e0e0e0; }
        body.retro-aol .chan-col { background:#355f5f; border-color:#33cccc; }
        body.retro-aol .grid-col { background:#3b6b6b; }
        body.retro-aol .chan-header,
        body.retro-aol .time-header-wrap { background:#004466; color:#ffcc00; border-color:#33cccc; }
        body.retro-aol .time-cell { color:#ffcc00; border-color:#1a3d3d; }
        body.retro-aol .chan-name { color:#ffffff; border-color:#33cccc; font-weight:bold; }
        body.retro-aol .program { background:#406d6d; border-color:#33cccc; color:#ffffff; }
        body.retro-aol .program.now { background:#33cccc; border-color:#004466; color:#000; font-weight:bold; }
        body.retro-aol .now-line { background:#ffcc00; }

        /* Retro TV Guide Magazine Theme */
        body.retro-magazine { background:#ffffff; color:#000000; font-family:"Times New Roman","Georgia",serif; }
        body.retro-magazine .header { background:#ffffff; color:#000; border-bottom:2px solid #000; font-weight:bold; }
        body.retro-magazine .header .links > a,
        body.retro-magazine .header .links > .dropdown > .dropbtn,
        body.retro-magazine .header .links > span,
        body.retro-magazine .header .links > #clock { background:#ffffff !important; color:#000000 !important; }
        body.retro-magazine .header .links > a:hover,
        body.retro-magazine .header .links > .dropdown:hover > .dropbtn { background:#e0e0e0 !important; color:#000000 !important; }
        body.retro-magazine .dropdown-content { background:#ffffff !important; color:#000000 !important; border:1px solid #000 !important; box-shadow:none !important; }
        body.retro-magazine .dropdown-content a { background:#ffffff !important; color:#000000 !important; }
        body.retro-magazine .dropdown-content a:hover { background:#e0e0e0 !important; color:#000000 !important; }
        body.retro-magazine #video { background:#000; }
        body.retro-magazine .summary { color:#000; }
        body.retro-magazine .chan-col { background:#fff; border:1px solid #000; color:#000; font-weight:bold; }
        body.retro-magazine .grid-col { background:#fff; }
        body.retro-magazine .chan-header,
        body.retro-magazine .time-header-wrap { background:#fff; color:#000; border:1px solid #000; font-weight:bold; }
        body.retro-magazine .time-cell { color:#000; border:1px solid #000; font-weight:bold; }
        body.retro-magazine .chan-name { color:#000; border:1px solid #000; font-weight:bold; }
        body.retro-magazine .program { background:#fff; border:1px solid #000; color:#000; font-size:14px; }
        body.retro-magazine .program.now { background:#e0e0e0; border:2px solid #000; color:#000; font-weight:bold; }
        body.retro-magazine .now-line { background:#000; height:3px; }
        body.retro-magazine #current-tuner { color:#000000 !important; font-weight:bold; }

    </style>
</head>
<body>
<div class="header">
    <div class="links">
        <span style="margin-right:20px; font-weight:bold;">Active Tuner: {{ current_tuner }}</span>
        <a href="{{ url_for('guide') }}">HOME</a>

        {% if current_user is defined and current_user.username == 'admin' %}
        <div class="dropdown">
            <button class="dropbtn">USER ADMIN ▾</button>
            <div class="dropdown-content">
                <a href="{{ url_for('add_user_route') }}">New User</a>
                <a href="{{ url_for('delete_user') }}">Delete User</a>
            </div>
        </div>
        {% endif %}

        <div class="dropdown">
            <button class="dropbtn">SETTINGS ▾</button>
            <div class="dropdown-content">
                {% if current_user is defined and current_user.username == 'admin' %}
                <a href="{{ url_for('change_tuner') }}">Change Tuner</a>
                <a href="{{ url_for('view_logs') }}">Logs</a>
                <a href="{{ url_for('about') }}">About</a>
                {% endif %}
                <a href="{{ url_for('change_password') }}">Change Password</a>
                <li class="submenu">
      <a href="#">Themes</a>
      <ul class="submenu-content">
        <li><a href="#" onclick="setTheme('light'); return false;">Light</a></li>
        <li><a href="#" onclick="setTheme('dark'); return false;">Dark</a></li>
        <li><a href="#" onclick="setTheme('retro-aol'); return false;">AOL / CompuServe</a></li>
        <li><a href="#" onclick="setTheme('retro-magazine'); return false;">TV Guide Magazine</a></li>
      </ul>
    </li>
            </div>
        </div>

        <a href="{{ url_for('logout') }}">LOGOUT</a>
    </div>

    <!-- Right: live clock -->
    <div id="clock" class="clock">--:-- --</div>
</div>

<h2>About RetroIPTVGuide</h2>
<div class="about-box">
    <ul>
        <li><strong>Version:</strong> {{ info.version }}</li>
        <li><strong>Release date:</strong> {{ info.release_date }}</li>
        <li><strong>Python version:</strong> {{ info.python_version }}</li>
        <li><strong>OS:</strong> {{ info.os_info }}</li>
        <li><strong>Install path:</strong> {{ info.install_path }}</li>
        <li><strong>Database:</strong> {{ info.db_path }}</li>
        <li><strong>Logs:</strong> {{ info.log_path }}</li>
        <li><strong>Server uptime:</strong> {{ info.uptime }}</li>
    </ul>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const saved = localStorage.getItem("theme") || "dark";
    setTheme(saved);

    updateClock();
    setInterval(updateClock, 1000);
});

function setTheme(theme) {
    const body = document.body;
    body.classList.remove("light", "dark", "retro-tvguide", "retro-aol", "retro-webtv", "retro-tvguide2000", "retro-magazine");
    body.classList.add(theme);
    localStorage.setItem("theme", theme);
}

function updateClock() {
    const now = new Date();
    const el = document.getElementById('clock');
    if (el) {
        el.textContent = now.toLocaleString([], {
            weekday:'short', month:'short', day:'numeric',
            hour:'2-digit', minute:'2-digit', second:'2-digit'
        });
    }
}
</script>
</body>
</html>

