{% extends "base.html" %}
{% block title %}Change Password â€” IPTV Guide{% endblock %}

{% block page_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/change_password.css') }}">
{% endblock %}

{% block content %}
<div class="container-change-password">
  <div class="box">
    <h2>Change Password</h2>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="flash-messages">
                {% for msg in messages %}
                    <p class="flash">{{ msg }}</p>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <form method="POST">
        <input type="password" name="old_password" placeholder="Current Password" required>
        <input type="password" name="new_password" placeholder="New Password" required>
        <input type="password" name="confirm_password" placeholder="Confirm Password" required>
        <button type="submit" class="primary">Change Password</button>
    </form>

  </div>
</div>
{% endblock %}

{% block scripts_extra %}
<script>
document.addEventListener("DOMContentLoaded", () => {
    // Base template already initializes theme and clock.
    // Ensure the theme from localStorage is applied and clock is updated.
    const saved = localStorage.getItem("theme") || "dark";
    if (typeof setTheme === "function") setTheme(saved);
    if (typeof updateClock === "function") updateClock();
});
</script>
{% endblock %}
